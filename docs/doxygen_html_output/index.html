<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=9"/>
  <meta name="generator" content="Doxygen 1.8.13"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>bWidgets: bWidgets</title>
  <!-- <script type="text/javascript" src="jquery.js"></script> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/javascript">
    $('link[rel=stylesheet][href="search/search.css"]').remove();
  </script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <!-- XXX Chrome doesn't load Roboto font :/ -->
  <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
  <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
<link href="search.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.smartmenus.js"></script>
  <!-- SmartMenus jQuery Bootstrap Addon -->
  <script type="text/javascript" src="jquery.smartmenus.bootstrap.js"></script>
  <!-- SmartMenus jQuery plugin -->
</head>
<body>
  <nav class="navbar navbar-default" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand">bWidgets </a>
      </div>
    </div>
  </nav>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
      <div class="container">
        <div class="row">
          <div class="col-sm-12 panel " style="padding-bottom: 15px;">
            <div style="margin-bottom: 15px;">
    <!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">bWidgets </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#role_of_bwidgets">Role of bWidgets</a></li>
<li class="level1"><a href="#motivation">Motivation</a></li>
<li class="level1"><a href="#current_features">Current Features</a></li>
<li class="level1"><a href="#future_plans">Future Plans</a></li>
</ul>
</div>
<div class="textblock"><p>bWidgets is a cross-platform widget toolkit, designed specifically for <a href="https://www.blender.org/">Blender</a>, but reusable as a standalone library.</p>
<p>On the long run, big parts of Blender's widget code should be replaced by bWidgets. In short, this will greatly improve the Blender interface code while opening doors for many new features.</p>
<p>The bWidgets source code <a href="https://github.com/julianeisel/bWidgets">can be found on GitHub</a>.</p>
<hr/>
<p><em>A "b"-prefix is a common convention in Blender's source code to mark internal Blender C-structs. The name "bWidgets" refers to this. It's fine to pronounce bWidgets as "Blender-widgets" too.</em> </p><hr/>
<h1><a class="anchor" id="role_of_bwidgets"></a>
Role of bWidgets</h1>
<p>bWidgets is purely about widgets. Everything that is not directly related to widgets is out of scope and not part of bWidgets. For example it does <b>not</b> contain a window-manager, a drawing-backend (like OpenGL) or an event-system.</p>
<p>As of now, bWidgets actually only does widget drawing with some proof-of-concept state changing on user input.</p>
<h1><a class="anchor" id="motivation"></a>
Motivation</h1>
<p>Main motivations for bWidgets come from Blender, namely:</p>
<ul>
<li><p class="startli"><b>Support for "GUI Styles" in Blender</b></p>
<p class="startli">Every user has a different tast when it comes to visual style of UI elements. While some like a modern "flat" style, others can't stand it and prefer more classic ones.<br />
 The proposal was made to address this by supporting multiple style presets that go further than themes, see <a href="https://developer.blender.org/T45025">T45025</a>.<br />
 Support for such style presets is a core feature of bWidgets. It even supports CSS defined styles (WIP in <a href="https://github.com/julianeisel/bWidgets/tree/css_styles">css_styles</a>), which Blender users could create, customize and share.</p>
</li>
<li><p class="startli"><b>Simplify Theme Options in Blender</b></p>
<p class="startli">It is a known issue that Blender has a huge amount of theming options, far more than practical (see <a href="https://developer.blender.org/T45352">T45352</a>). There are cases where extreme control is useful, but a much simpler solution would work better for most users.<br />
</p>
<p class="startli">Previously mentioned "GUI Styles" already go a long way, especially considering the CSS support. For the majority of users, having such a style option plus a rather small color-palette for the theming would be more than enough. For other cases, the CSS files give maximum control.</p>
</li>
<li><p class="startli"><b>Refactor of Blender's widget code</b></p>
<p class="startli">A rather major refactor of Blender's widget code is really needed. It is a prime time example of spaghetti code produced over decades.</p>
<p class="startli">bWidgets would be the base of such a major refactor. It was carefully designed with current needs and <a class="el" href="index.html#future_plans">long-term plans</a> in mind.</p>
</li>
<li><p class="startli"><b>Sharing Blender's widget code with other apps</b></p>
<p class="startli">Various applications could use bWidgets to get the look and feel of Blender's widgets (without mimicing it manually). The Blender Animation Player or the Cycles standalone are good examples.</p>
<p class="startli">Another use-case would be a UI protoyping and mockup app for Blender.</p>
</li>
<li><p class="startli"><b>Getting closer to Qt (and similar toolkits)</b></p>
<p class="startli">Qt is a (the most?) popular widget toolkit. It is incredibly powerful and flexible, developers are familiar with it. While there are no concrete plans to switch to Qt, bWidgets helps finding out if such a switch would make sense and how feasible it is.</p>
<p class="startli">bWidgets is in fact designed similar to Qt. Partially because they try to address similar requirements, partially because Qt is purposely being used as reference here and there.</p>
</li>
</ul>
<h1><a class="anchor" id="current_features"></a>
Current Features</h1>
<p>As of now, bWidgets basically contains a few widget definitions with simple drawing and handling mimicking Blender. It further supports:</p><ul>
<li>A primitive style preset system (only supporting the current built-in styles)</li>
<li><p class="startli">A drawing system via a graphics framework independent drawing interface</p>
<p class="startli">Basically a <em>painter</em> object defines geometry as <em>polygons</em> and draws them through a <em>paint-engine</em>. The paint-engine is created by the application that uses bWidgets. It can be a paint-engine for OpenGL drawing, Vulcan drawing, rendering to an image, HTML/CSS export, etc.</p>
</li>
<li>Scaling</li>
<li>Primitive gradient drawing</li>
<li>Anti-aliasing for widget outlines.</li>
</ul>
<p>The demo application has basic features like a primitive layout system, font drawing using FreeType2, GLSL shader support, scrolling and DPI scaling. Most buttons are dummies showing off the bWidgets feature set.</p>
<div class="image">
<img src="bwidgets_demo_screenshot.png" alt="img def"/>
</div>
<p>Further, there is a documentation and unit testing framework for both bWidgets and its demo application.</p>
<h1><a class="anchor" id="future_plans"></a>
Future Plans</h1>
<p>Like mentioned earlier, it's planned to replace big parts of Blender's widget pipeline by bWidgets. This is a major undertaking and we plan to do it step-by-step:</p>
<ol type="1">
<li><p class="startli"><b>Make Blender use bWidgets for the widget drawing</b></p>
<p class="startli">Basically replace Blender's <a href="https://developer.blender.org/diffusion/B/browse/master/source/blender/editors/interface/interface_widgets.c"><code>interface_widgets.c</code></a>.</p>
</li>
<li><p class="startli"><b>Port basic widget interaction handling from Blender to bWidgets</b></p>
<p class="startli">That is, code that controls how push-buttons change their state on mouse clicks, how scrollbars react to dragging, etc. At this point we might want to add some text-editing API to bWidgets.<br />
 Eventually, all code in Blender's giant <a href="https://developer.blender.org/diffusion/B/browse/master/source/blender/editors/interface/interface_handlers.c"><code>interface_handlers.c</code></a> that does not depend on Blender data should be replaced by bWidgets.</p>
</li>
<li><p class="startli"><b>Add an initial layout-system to bWidgets</b></p>
<p class="startli">With this initial layout-system, Blender's <a href="https://developer.blender.org/diffusion/B/browse/master/source/blender/editors/interface/interface_layout.c"><code>interface_layout.c</code></a> would be replaced. It should be compatible with the old system.</p>
<p class="startli">Eventually, we may want to have a layout-system similar to Qt's: Instead of a linear list of widgets, they would be in a hierarchy, whereby parent widgets manage the layout of their children (optionally via a layout-engine).</p>
</li>
<li><p class="startli"><b>Add pop-up management to bWidgets</b></p>
<p class="startli">Mainly replacing most of <a href="https://developer.blender.org/diffusion/B/browse/master/source/blender/editors/interface/interface_regions.c"><code>interface_regions.c</code></a>.</p>
</li>
<li><p class="startli"><b>Replace Blender's interface definition API</b></p>
<p class="startli">That would be parts of <a href="https://developer.blender.org/diffusion/B/browse/master/source/blender/editors/interface/interface.c"><code>interface.c</code></a>, for example the <code>uiDefBut</code> functions. The <code>uiBlock</code> struct could be replaced by the layout hierarchy by then.</p>
</li>
</ol>
<p>These are ambitious plans for sure, but they are for the long term. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
<script type="text/javascript" src="doxy-boot.js"></script>
</html>
